https://school.programmers.co.kr/learn/courses/30/lessons/72413

다익스트라를 사용해도 제한시간 내에 해결은 가능하다.
다만 최악의 경우 약 15초까지 실행 시간이 증가한다.
- 이 부분은 캐싱을 통해 보완할 수 있지만, 단순 LRU_CACHE로는 어렵고, 이동 과정을 모두 캐싱해야한다.

| 캐싱 전략        | 평균 실행 시간 (ms) | 평균 메모리 사용량 (MB) |
| ------------ | ------------- | --------------- |
| 기본 (캐싱 없음)   | 3727.27 ms    | 12.02 MB        |
| LRU_CACHE 적용 | 3733.60 ms    | 12.08 MB        |
| c,d 반전 캐싱    | 3699.89 ms    | 12.09 MB        |
| 이동 과정을 모두 캐싱 | 2004.33 ms    | 13.75 MB        |
```
from collections import defaultdict
from queue import PriorityQueue
from functools import lru_cache
INF = 10 ** 30
def solution(n, s, a, b, fares):
    edges = defaultdict(list)
    for c, d, cost in fares:
        edges[c].append((cost, d))
        edges[d].append((cost, c))
    
    cache = {}
    def get_distance(c, d):
        key = tuple(sorted([c,d]))
        if key in cache:
            return cache[key]
        queue = PriorityQueue()
        visited = set()
        queue.put((0, c))
        
        while not queue.empty():
            cost, node = queue.get()
            if node in visited:
                continue
            visited.add(node)
            cache[tuple(sorted([c, node]))] = cost
            if node == d:
                cache[key]=cost
                return cache[key]
            for add_cost, next_node in edges[node]:
                if next_node in visited:
                    continue
                queue.put((cost + add_cost, next_node))
        return INF # 갈 수 없는 경우
    answer = INF
    for k in range(1, n+1):
        answer = min(get_distance(s, k) + get_distance(k, a) + get_distance(k, b), answer)

    return answer
```

캐싱 없음
```
효율성  테스트

|   |   |
|---|---|
|테스트 1 〉|통과 (160.95ms, 9.54MB)|
|테스트 2 〉|통과 (1124.12ms, 9.9MB)|
|테스트 3 〉|통과 (332.31ms, 9.55MB)|
|테스트 4 〉|통과 (264.13ms, 9.55MB)|
|테스트 5 〉|통과 (349.01ms, 9.53MB)|
|테스트 6 〉|통과 (363.86ms, 9.46MB)|
|테스트 7 〉|통과 (11699.03ms, 17.1MB)|
|테스트 8 〉|통과 (14205.73ms, 16.9MB)|
|테스트 9 〉|통과 (12913.65ms, 16.7MB)|
|테스트 10 〉|통과 (13500.71ms, 16.9MB)|
|테스트 11 〉|통과 (14771.84ms, 16.8MB)|
|테스트 12 〉|통과 (6766.85ms, 13.1MB)|
|테스트 13 〉|통과 (6480.63ms, 13.1MB)|
|테스트 14 〉|통과 (6752.02ms, 13MB)|
|테스트 15 〉|통과 (6432.02ms, 13.2MB)|
|테스트 16 〉|통과 (403.19ms, 9.46MB)|
|테스트 17 〉|통과 (288.75ms, 9.53MB)|
|테스트 18 〉|통과 (394.87ms, 9.62MB)|
|테스트 19 〉|통과 (747.59ms, 9.6MB)|
|테스트 20 〉|통과 (1417.74ms, 9.87MB)|
|테스트 21 〉|통과 (1271.75ms, 10.1MB)|
|테스트 22 〉|통과 (6963.06ms, 13.2MB)|
|테스트 23 〉|통과 (5442.47ms, 13.2MB)|
|테스트 24 〉|통과 (6263.19ms, 13.1MB)|
|테스트 25 〉|통과 (216.96ms, 9.27MB)|
|테스트 26 〉|통과 (245.13ms, 9.3MB)|
|테스트 27 〉|통과 (1515.97ms, 10.2MB)|
|테스트 28 〉|통과 (1494.16ms, 10.1MB)|
|테스트 29 〉|통과 (124.26ms, 9.5MB)|
|테스트 30 〉|통과 (109.25ms, 9.46MB)|
```


LRU_CACHE 적용
```
효율성  테스트

|   |   |
|---|---|
|테스트 1 〉|통과 (169.72ms, 9.55MB)|
|테스트 2 〉|통과 (1086.97ms, 10.2MB)|
|테스트 3 〉|통과 (305.57ms, 9.59MB)|
|테스트 4 〉|통과 (257.12ms, 9.46MB)|
|테스트 5 〉|통과 (328.95ms, 9.6MB)|
|테스트 6 〉|통과 (336.27ms, 9.44MB)|
|테스트 7 〉|통과 (11782.53ms, 16.9MB)|
|테스트 8 〉|통과 (15226.61ms, 16.9MB)|
|테스트 9 〉|통과 (11987.38ms, 16.6MB)|
|테스트 10 〉|통과 (13134.85ms, 16.7MB)|
|테스트 11 〉|통과 (15884.44ms, 16.9MB)|
|테스트 12 〉|통과 (6349.34ms, 13.3MB)|
|테스트 13 〉|통과 (6439.26ms, 13.1MB)|
|테스트 14 〉|통과 (7191.36ms, 13.3MB)|
|테스트 15 〉|통과 (6739.00ms, 13.3MB)|
|테스트 16 〉|통과 (407.98ms, 9.38MB)|
|테스트 17 〉|통과 (277.92ms, 9.32MB)|
|테스트 18 〉|통과 (395.53ms, 9.61MB)|
|테스트 19 〉|통과 (750.99ms, 9.54MB)|
|테스트 20 〉|통과 (1494.73ms, 10.3MB)|
|테스트 21 〉|통과 (1270.95ms, 10.2MB)|
|테스트 22 〉|통과 (7351.10ms, 13.1MB)|
|테스트 23 〉|통과 (6105.86ms, 13.2MB)|
|테스트 24 〉|통과 (6761.46ms, 13.3MB)|
|테스트 25 〉|통과 (231.44ms, 9.66MB)|
|테스트 26 〉|통과 (242.17ms, 9.39MB)|
|테스트 27 〉|통과 (1453.14ms, 10.1MB)|
|테스트 28 〉|통과 (1424.44ms, 9.88MB)|
|테스트 29 〉|통과 (134.05ms, 9.55MB)|
|테스트 30 〉|통과 (96.67ms, 9.55MB)|
```

c,d 반전 캐싱
```
효율성  테스트

|   |   |
|---|---|
|테스트 1 〉|통과 (153.63ms, 9.39MB)|
|테스트 2 〉|통과 (1068.18ms, 9.95MB)|
|테스트 3 〉|통과 (294.48ms, 9.59MB)|
|테스트 4 〉|통과 (286.15ms, 9.53MB)|
|테스트 5 〉|통과 (338.14ms, 9.69MB)|
|테스트 6 〉|통과 (329.36ms, 9.59MB)|
|테스트 7 〉|통과 (13020.72ms, 16.9MB)|
|테스트 8 〉|통과 (14110.82ms, 17MB)|
|테스트 9 〉|통과 (11935.87ms, 16.8MB)|
|테스트 10 〉|통과 (13091.03ms, 16.8MB)|
|테스트 11 〉|통과 (14483.78ms, 17MB)|
|테스트 12 〉|통과 (6864.46ms, 13.2MB)|
|테스트 13 〉|통과 (7140.76ms, 13.2MB)|
|테스트 14 〉|통과 (6419.58ms, 13.1MB)|
|테스트 15 〉|통과 (6167.34ms, 13.3MB)|
|테스트 16 〉|통과 (396.30ms, 9.52MB)|
|테스트 17 〉|통과 (303.39ms, 9.6MB)|
|테스트 18 〉|통과 (373.04ms, 9.59MB)|
|테스트 19 〉|통과 (749.59ms, 9.95MB)|
|테스트 20 〉|통과 (1457.30ms, 9.99MB)|
|테스트 21 〉|통과 (1219.83ms, 10.2MB)|
|테스트 22 〉|통과 (6922.30ms, 13.2MB)|
|테스트 23 〉|통과 (5682.06ms, 13.1MB)|
|테스트 24 〉|통과 (6199.22ms, 13.1MB)|
|테스트 25 〉|통과 (216.53ms, 9.29MB)|
|테스트 26 〉|통과 (242.42ms, 9.4MB)|
|테스트 27 〉|통과 (1357.35ms, 9.9MB)|
|테스트 28 〉|통과 (1592.05ms, 10.1MB)|
|테스트 29 〉|통과 (122.00ms, 9.55MB)|
|테스트 30 〉|통과 (95.99ms, 9.53MB)|
```


이동 과정을 모두 캐싱
```
효율성  테스트

|   |   |
|---|---|
|테스트 1 〉|통과 (78.50ms, 10MB)|
|테스트 2 〉|통과 (651.37ms, 11.2MB)|
|테스트 3 〉|통과 (165.66ms, 11.4MB)|
|테스트 4 〉|통과 (136.75ms, 11.4MB)|
|테스트 5 〉|통과 (196.11ms, 11.2MB)|
|테스트 6 〉|통과 (230.47ms, 11.7MB)|
|테스트 7 〉|통과 (5505.15ms, 18.7MB)|
|테스트 8 〉|통과 (6741.35ms, 19.1MB)|
|테스트 9 〉|통과 (9317.23ms, 18.9MB)|
|테스트 10 〉|통과 (12696.02ms, 18.9MB)|
|테스트 11 〉|통과 (10634.47ms, 19.1MB)|
|테스트 12 〉|통과 (2500.45ms, 14.9MB)|
|테스트 13 〉|통과 (2669.34ms, 15.2MB)|
|테스트 14 〉|통과 (4075.73ms, 15MB)|
|테스트 15 〉|통과 (3036.89ms, 15.2MB)|
|테스트 16 〉|통과 (172.82ms, 11.7MB)|
|테스트 17 〉|통과 (142.18ms, 11.4MB)|
|테스트 18 〉|통과 (213.46ms, 11.6MB)|
|테스트 19 〉|통과 (374.88ms, 11.9MB)|
|테스트 20 〉|통과 (778.34ms, 12.3MB)|
|테스트 21 〉|통과 (523.45ms, 12MB)|
|테스트 22 〉|통과 (4407.12ms, 15.3MB)|
|테스트 23 〉|통과 (2912.42ms, 14.9MB)|
|테스트 24 〉|통과 (3135.41ms, 15.4MB)|
|테스트 25 〉|통과 (144.44ms, 11.4MB)|
|테스트 26 〉|통과 (163.65ms, 11.4MB)|
|테스트 27 〉|통과 (525.93ms, 11.5MB)|
|테스트 28 〉|통과 (759.64ms, 11.5MB)|
|테스트 29 〉|통과 (75.88ms, 9.95MB)|
|테스트 30 〉|통과 (50.12ms, 10MB)|
```